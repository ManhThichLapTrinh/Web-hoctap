<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Learning - Kho Há»c Táº­p</title>

  <link rel="icon" href="../favicon.png">
  <link rel="stylesheet" href="./learning.css" />
</head>
<body>
  <!-- SIDEBAR (bÃªn trÃ¡i, full height) -->
  <aside class="sidebar">
    <div class="sidebar__logo">
      <span class="logo">ğŸµ</span>
      <h2>Menu</h2>
    </div>

    <nav class="sidebar__nav">
      <a href="../index.html"><span class="icon">ğŸ‘¤</span><span class="label">CÃ¡ NhÃ¢n</span></a>
      <a href="#"><span class="icon">âœ¨</span><span class="label">KhÃ¡m phÃ¡</span></a>
      <a href="./learning.html" class="active"><span class="icon">#</span><span class="label">Learning</span></a>
      <a href="../videos/videos.html"><span class="icon">ğŸ“»</span><span class="label">Video</span></a>

      <a href="#"><span class="icon">â­</span><span class="label">YÃªu ThÃ­ch</span></a>

      <details class="sidebar__group" id="lang-group">
        <summary><span class="icon">ğŸŒ</span><span class="label">NgÃ´n ngá»¯</span></summary>
        <div class="submenu">
          <a href="#" data-lang="en"><span>ğŸ‡¬ğŸ‡§</span> Tiáº¿ng Anh</a>
          <a href="#" data-lang="ja"><span>ğŸ‡¯ğŸ‡µ</span> Tiáº¿ng Nháº­t</a>
          <a href="#" data-lang="zh"><span>ğŸ‡¨ğŸ‡³</span> Tiáº¿ng Trung</a>
        </div>
      </details>

      <a href="../materials-web/materials.html"><span class="icon">ğŸ“‚</span><span class="label">Materials</span></a>
      <a href="#"><span class="icon">ğŸ†</span><span class="label">Quan TÃ¢m</span></a>
      <a href="#"><span class="icon">ğŸ¥</span><span class="label">Äáº·c biá»‡t</span></a>
    </nav>
  </aside>

  <!-- MAIN-AREA (bÃªn pháº£i cá»§a sidebar) -->
  <div class="main-area">
    <!-- TOPBAR (chá»‰ á»Ÿ pháº§n bÃªn pháº£i) -->
    <header class="topbar">
      <div class="brand">
        <span class="logo">ğŸ“š</span>
        <h1>Kho Há»c Táº­p</h1>
      </div>

      <div class="actions">
        <button id="toggle-theme" class="btn" title="Chuyá»ƒn theme">ğŸŒ“</button>

        <div class="search-group">
          <input id="learning-search" type="search" placeholder="TÃ¬m tÃ i liá»‡u/video theo tiÃªu Ä‘á» hoáº·c #tag..." />
          <button id="learning-clear-search" class="btn btn-ghost" title="XoÃ¡ tÃ¬m kiáº¿m">âœ–</button>
        </div>

        <button id="btn-star" class="btn btn-ghost" title="YÃªu thÃ­ch">â­</button>
        <button id="btn-login" class="btn btn-primary">ÄÄƒng nháº­p</button>
      </div>
    </header>

    <!-- MAIN WRAPPER (ná»™i dung learning) -->
    <main class="learning-wrap">
      <!-- Thanh cÃ´ng cá»¥ Learning (sticky dÆ°á»›i topbar) -->
      <header class="learning-toolbar">
        <div class="tools-left">
          <button id="btn-select" class="btn btn-ghost" type="button">â˜‘ Chá»n</button>

          <div class="seg" role="tablist" aria-label="Bá»™ lá»c loáº¡i tÃ i liá»‡u">
            <button class="seg__btn is-active" data-type="all" role="tab" aria-selected="true">All</button>
            <button class="seg__btn" data-type="video" role="tab" aria-selected="false">Video</button>
            <button class="seg__btn" data-type="doc" role="tab" aria-selected="false">Doc</button>
          </div>
        </div>

        <div class="tools-right">
          <button id="btn-edit" class="btn" type="button" disabled>âœ Sá»­a</button>
          <button id="btn-delete" class="btn btn-danger" type="button" disabled>ğŸ—‘ XoÃ¡</button>
          <button id="open-add" class="btn btn-primary" type="button">â• ThÃªm tÃ i liá»‡u má»›i</button>
          <span class="muted" id="learning-count">0 má»¥c</span>
        </div>
      </header>

      <!-- Ná»™i dung 2 cá»™t: trÃ¡i Tags, pháº£i List -->
      <section class="learning-content">
        <aside class="learning-side">
          <section class="panel">
            <h3 class="panel__title">Tags</h3>
            <div id="tag-cloud" class="tag-cloud" aria-live="polite"></div>
          </section>
        </aside>

        <section class="learning-main">
          <div id="empty-hint" class="empty" hidden>ChÆ°a cÃ³ tÃ i liá»‡u nÃ o. HÃ£y thÃªm báº±ng nÃºt trÃªn thanh cÃ´ng cá»¥.</div>
          <ul id="item-list" aria-live="polite"></ul>
          <!-- ÄÃƒ Bá» viewer/preview theo yÃªu cáº§u -->
        </section>
      </section>
    </main>
  </div>

  <!-- Dialog thÃªm tÃ i liá»‡u -->
  <dialog id="add-dialog" class="dialog" aria-labelledby="add-title">
    <form id="add-form" method="dialog" autocomplete="off" class="dialog__content">
      <h3 id="add-title" class="dialog__title">ThÃªm tÃ i liá»‡u</h3>

      <div class="form-row">
        <label for="f-title">TiÃªu Ä‘á»</label>
        <input id="f-title" type="text" required placeholder="TÃªn tÃ i liá»‡u/video" />
      </div>

      <!-- Bá» 'Loáº¡i' â€” JS sáº½ tá»± suy loáº¡i tá»« URL -->

      <div class="form-row">
        <label for="f-url">URL</label>
        <input id="f-url" type="url" required placeholder="https://youtu.be/... hoáº·c https://..." />
      </div>

      <div class="form-row">
        <label for="f-tags">Tags (phÃ¢n tÃ¡ch báº±ng dáº¥u pháº©y)</label>
        <input id="f-tags" type="text" placeholder="js,react,algorithmâ€¦" />
      </div>

      <!-- THÃŠM 'Ghi chÃº' -->
      <div class="form-row">
        <label for="f-notes">Ghi chÃº</label>
        <textarea id="f-notes" rows="4" placeholder="Ghi chÃº cho tÃ i liá»‡u nÃ yâ€¦"></textarea>
      </div>

      <menu class="dialog-actions">
        <button value="cancel" class="btn">Huá»·</button>
        <button id="add-save" class="btn btn-primary" type="submit">LÆ°u</button>
      </menu>

      <!-- HÃ¬nh áº£nh (tuá»³ chá»n) -->
      <div class="form-row">
        <label for="f-thumb-file">HÃ¬nh áº£nh (chá»n file)</label>
        <input id="f-thumb-file" type="file" accept="image/*" />
        <small>Æ¯u tiÃªn file náº¿u chá»n; náº¿u khÃ´ng, cÃ³ thá»ƒ dÃ¡n URL áº£nh bÃªn dÆ°á»›i.</small>
      </div>

      <div class="form-row">
        <label for="f-thumb-url">Hoáº·c URL hÃ¬nh áº£nh</label>
        <input id="f-thumb-url" type="url" placeholder="https://...jpg, https://...png" />
      </div>
    </form>
  </dialog>

  <!-- âœ… Dialog ÄÄƒng nháº­p -->
  <dialog id="login-dialog" class="dialog" aria-labelledby="login-title">
    <form id="login-form" method="dialog" novalidate>
      <h3 id="login-title">ÄÄƒng nháº­p</h3>
      <div class="form-row">
        <label for="login-email">Email</label>
        <input id="login-email" type="email" required autocomplete="email" />
      </div>
      <div class="form-row">
        <label for="login-password">Máº­t kháº©u</label>
        <input id="login-password" type="password" minlength="6" required autocomplete="current-password" />
      </div>
      <p id="login-error" class="form-error" hidden></p>
      <menu class="dialog-actions">
        <button value="cancel" class="btn">Huá»·</button>
        <button id="login-submit" class="btn btn-primary">ÄÄƒng nháº­p</button>
      </menu>
      <p style="font-size:14px">ChÆ°a cÃ³ tÃ i khoáº£n? <a href="#" id="login-to-signup">ÄÄƒng kÃ½</a></p>
    </form>
  </dialog>

  <!-- âœ… Dialog ÄÄƒng kÃ½ -->
  <dialog id="signup-dialog" class="dialog" aria-labelledby="signup-title">
    <form id="signup-form" method="dialog" novalidate>
      <h3 id="signup-title">Táº¡o tÃ i khoáº£n</h3>
      <div class="form-row">
        <label for="signup-email">Email</label>
        <input id="signup-email" type="email" required autocomplete="email" />
      </div>
      <div class="form-row">
        <label for="signup-password">Máº­t kháº©u</label>
        <input id="signup-password" type="password" minlength="6" required autocomplete="new-password" />
      </div>
      <div class="form-row">
        <label for="signup-password2">Nháº­p láº¡i máº­t kháº©u</label>
        <input id="signup-password2" type="password" minlength="6" required autocomplete="new-password" />
      </div>
      <p id="signup-error" class="form-error" hidden></p>
      <menu class="dialog-actions">
        <button value="cancel" class="btn">Huá»·</button>
        <button id="signup-submit" class="btn btn-primary">ÄÄƒng kÃ½</button>
      </menu>
      <p style="font-size:14px">ÄÃ£ cÃ³ tÃ i khoáº£n? <a href="#" id="signup-to-login">ÄÄƒng nháº­p</a></p>
    </form>
  </dialog>

  <!-- Scripts -->
  <script type="module">
    /* Äá»“ng bá»™ theme giá»¯a cÃ¡c trang & Firestore */
    import { initThemeSync } from "../js/theme-sync.js";
    initThemeSync({ toggleSelector: "#toggle-theme" });
  </script>

  <script type="module" src="./learning.js"></script>
</body>
</html>
